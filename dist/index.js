var Ee=Object.create,A=Object.defineProperty,Ce=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty,xe=Object.getOwnPropertyNames,Oe=Object.getOwnPropertyDescriptor;var L=e=>A(e,"__esModule",{value:!0});var g=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Te=(e,t)=>{for(var i in t)A(e,i,{get:t[i],enumerable:!0})},Ae=(e,t,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of xe(t))!$e.call(e,r)&&r!=="default"&&A(e,r,{get:()=>t[r],enumerable:!(i=Oe(t,r))||i.enumerable});return e},N=e=>e&&e.__esModule?e:Ae(L(A(e!=null?Ee(Ce(e)):{},"default",{value:e,enumerable:!0})),e);var I=g(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0});function Ne(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}W.toCommandValue=Ne});var z=g(C=>{"use strict";var Ie=C&&C.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(C,"__esModule",{value:!0});var De=Ie(require("os")),G=I();function Q(e,t,i){let r=new B(e,t,i);process.stdout.write(r.toString()+De.EOL)}C.issueCommand=Q;function ke(e,t=""){Q(e,{},t)}C.issue=ke;var X="::",B=class{constructor(t,i,r){t||(t="missing.command"),this.command=t,this.properties=i,this.message=r}toString(){let t=X+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let i=!0;for(let r in this.properties)if(this.properties.hasOwnProperty(r)){let s=this.properties[r];s&&(i?i=!1:t+=",",t+=`${r}=${Pe(s)}`)}}return t+=`${X}${qe(this.message)}`,t}};function qe(e){return G.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Pe(e){return G.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var K=g(T=>{"use strict";var J=T&&T.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(T,"__esModule",{value:!0});var Z=J(require("fs")),Re=J(require("os")),We=I();function Fe(e,t){let i=process.env[`GITHUB_${e}`];if(!i)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Z.existsSync(i))throw new Error(`Missing file at path: ${i}`);Z.appendFileSync(i,`${We.toCommandValue(t)}${Re.EOL}`,{encoding:"utf8"})}T.issueCommand=Fe});var D=g(d=>{"use strict";var Ue=d&&d.__awaiter||function(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function f(c){try{u(r.next(c))}catch(h){o(h)}}function p(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?n(c.value):s(c.value).then(f,p)}u((r=r.apply(e,t||[])).next())})},Y=d&&d.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(d,"__esModule",{value:!0});var y=z(),ee=K(),je=I(),F=Y(require("os")),He=Y(require("path")),te;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(te=d.ExitCode||(d.ExitCode={}));function Ve(e,t){let i=je.toCommandValue(t);if(process.env[e]=i,process.env.GITHUB_ENV||""){let s="_GitHubActionsFileCommandDelimeter_",n=`${e}<<${s}${F.EOL}${i}${F.EOL}${s}`;ee.issueCommand("ENV",n)}else y.issueCommand("set-env",{name:e},i)}d.exportVariable=Ve;function Me(e){y.issueCommand("add-mask",{},e)}d.setSecret=Me;function Le(e){process.env.GITHUB_PATH||""?ee.issueCommand("PATH",e):y.issueCommand("add-path",{},e),process.env.PATH=`${e}${He.delimiter}${process.env.PATH}`}d.addPath=Le;function Ge(e,t){let i=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!i)throw new Error(`Input required and not supplied: ${e}`);return i.trim()}d.getInput=Ge;function Be(e,t){y.issueCommand("set-output",{name:e},t)}d.setOutput=Be;function Qe(e){y.issue("echo",e?"on":"off")}d.setCommandEcho=Qe;function Xe(e){process.exitCode=te.Failure,ie(e)}d.setFailed=Xe;function ze(){return process.env.RUNNER_DEBUG==="1"}d.isDebug=ze;function Je(e){y.issueCommand("debug",{},e)}d.debug=Je;function ie(e){y.issue("error",e instanceof Error?e.toString():e)}d.error=ie;function Ze(e){y.issue("warning",e instanceof Error?e.toString():e)}d.warning=Ze;function Ke(e){process.stdout.write(e+F.EOL)}d.info=Ke;function re(e){y.issue("group",e)}d.startGroup=re;function se(){y.issue("endgroup")}d.endGroup=se;function Ye(e,t){return Ue(this,void 0,void 0,function*(){re(e);let i;try{i=yield t()}finally{se()}return i})}d.group=Ye;function et(e,t){y.issueCommand("save-state",{name:e},t)}d.saveState=et;function tt(e){return process.env[`STATE_${e}`]||""}d.getState=tt});var U=g(l=>{"use strict";var k=l&&l.__awaiter||function(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function f(c){try{u(r.next(c))}catch(h){o(h)}}function p(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?n(c.value):s(c.value).then(f,p)}u((r=r.apply(e,t||[])).next())})},m;Object.defineProperty(l,"__esModule",{value:!0});var it=require("assert"),rt=require("fs"),$=require("path");m=rt.promises,l.chmod=m.chmod,l.copyFile=m.copyFile,l.lstat=m.lstat,l.mkdir=m.mkdir,l.readdir=m.readdir,l.readlink=m.readlink,l.rename=m.rename,l.rmdir=m.rmdir,l.stat=m.stat,l.symlink=m.symlink,l.unlink=m.unlink;l.IS_WINDOWS=process.platform==="win32";function st(e){return k(this,void 0,void 0,function*(){try{yield l.stat(e)}catch(t){if(t.code==="ENOENT")return!1;throw t}return!0})}l.exists=st;function nt(e,t=!1){return k(this,void 0,void 0,function*(){return(t?yield l.stat(e):yield l.lstat(e)).isDirectory()})}l.isDirectory=nt;function ct(e){if(e=ot(e),!e)throw new Error('isRooted() parameter "p" cannot be empty');return l.IS_WINDOWS?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")}l.isRooted=ct;function ne(e,t=1e3,i=1){return k(this,void 0,void 0,function*(){if(it.ok(e,"a path argument must be provided"),e=$.resolve(e),i>=t)return l.mkdir(e);try{yield l.mkdir(e);return}catch(r){switch(r.code){case"ENOENT":{yield ne($.dirname(e),t,i+1),yield l.mkdir(e);return}default:{let s;try{s=yield l.stat(e)}catch(n){throw r}if(!s.isDirectory())throw r}}}})}l.mkdirP=ne;function ut(e,t){return k(this,void 0,void 0,function*(){let i;try{i=yield l.stat(e)}catch(s){s.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${s}`)}if(i&&i.isFile()){if(l.IS_WINDOWS){let s=$.extname(e).toUpperCase();if(t.some(n=>n.toUpperCase()===s))return e}else if(oe(i))return e}let r=e;for(let s of t){e=r+s,i=void 0;try{i=yield l.stat(e)}catch(n){n.code!=="ENOENT"&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${n}`)}if(i&&i.isFile()){if(l.IS_WINDOWS){try{let n=$.dirname(e),o=$.basename(e).toUpperCase();for(let f of yield l.readdir(n))if(o===f.toUpperCase()){e=$.join(n,f);break}}catch(n){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${n}`)}return e}else if(oe(i))return e}}return""})}l.tryGetExecutablePath=ut;function ot(e){return e=e||"",l.IS_WINDOWS?(e=e.replace(/\//g,"\\"),e.replace(/\\\\+/g,"\\")):e.replace(/\/\/+/g,"/")}function oe(e){return(e.mode&1)>0||(e.mode&8)>0&&e.gid===process.getgid()||(e.mode&64)>0&&e.uid===process.getuid()}});var fe=g(w=>{"use strict";var b=w&&w.__awaiter||function(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function f(c){try{u(r.next(c))}catch(h){o(h)}}function p(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?n(c.value):s(c.value).then(f,p)}u((r=r.apply(e,t||[])).next())})};Object.defineProperty(w,"__esModule",{value:!0});var lt=require("child_process"),_=require("path"),at=require("util"),a=U(),j=at.promisify(lt.exec);function dt(e,t,i={}){return b(this,void 0,void 0,function*(){let{force:r,recursive:s}=ft(i),n=(yield a.exists(t))?yield a.stat(t):null;if(n&&n.isFile()&&!r)return;let o=n&&n.isDirectory()?_.join(t,_.basename(e)):t;if(!(yield a.exists(e)))throw new Error(`no such file or directory: ${e}`);if((yield a.stat(e)).isDirectory())if(s)yield ce(e,o,0,r);else throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);else{if(_.relative(e,o)==="")throw new Error(`'${o}' and '${e}' are the same file`);yield ue(e,o,r)}})}w.cp=dt;function ht(e,t,i={}){return b(this,void 0,void 0,function*(){if(yield a.exists(t)){let r=!0;if((yield a.isDirectory(t))&&(t=_.join(t,_.basename(e)),r=yield a.exists(t)),r)if(i.force==null||i.force)yield le(t);else throw new Error("Destination already exists")}yield H(_.dirname(t)),yield a.rename(e,t)})}w.mv=ht;function le(e){return b(this,void 0,void 0,function*(){if(a.IS_WINDOWS){try{(yield a.isDirectory(e,!0))?yield j(`rd /s /q "${e}"`):yield j(`del /f /a "${e}"`)}catch(t){if(t.code!=="ENOENT")throw t}try{yield a.unlink(e)}catch(t){if(t.code!=="ENOENT")throw t}}else{let t=!1;try{t=yield a.isDirectory(e)}catch(i){if(i.code!=="ENOENT")throw i;return}t?yield j(`rm -rf "${e}"`):yield a.unlink(e)}})}w.rmRF=le;function H(e){return b(this,void 0,void 0,function*(){yield a.mkdirP(e)})}w.mkdirP=H;function ae(e,t){return b(this,void 0,void 0,function*(){if(!e)throw new Error("parameter 'tool' is required");if(t&&!(yield ae(e,!1)))throw a.IS_WINDOWS?new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);try{let i=[];if(a.IS_WINDOWS&&process.env.PATHEXT)for(let s of process.env.PATHEXT.split(_.delimiter))s&&i.push(s);if(a.isRooted(e)){let s=yield a.tryGetExecutablePath(e,i);return s||""}if(e.includes("/")||a.IS_WINDOWS&&e.includes("\\"))return"";let r=[];if(process.env.PATH)for(let s of process.env.PATH.split(_.delimiter))s&&r.push(s);for(let s of r){let n=yield a.tryGetExecutablePath(s+_.sep+e,i);if(n)return n}return""}catch(i){throw new Error(`which failed with message ${i.message}`)}})}w.which=ae;function ft(e){let t=e.force==null?!0:e.force,i=Boolean(e.recursive);return{force:t,recursive:i}}function ce(e,t,i,r){return b(this,void 0,void 0,function*(){if(i>=255)return;i++,yield H(t);let s=yield a.readdir(e);for(let n of s){let o=`${e}/${n}`,f=`${t}/${n}`;(yield a.lstat(o)).isDirectory()?yield ce(o,f,i,r):yield ue(o,f,r)}yield a.chmod(t,(yield a.stat(e)).mode)})}function ue(e,t,i){return b(this,void 0,void 0,function*(){if((yield a.lstat(e)).isSymbolicLink()){try{yield a.lstat(t),yield a.unlink(t)}catch(s){s.code==="EPERM"&&(yield a.chmod(t,"0666"),yield a.unlink(t))}let r=yield a.readlink(e);yield a.symlink(r,t,a.IS_WINDOWS?"junction":null)}else(!(yield a.exists(t))||i)&&(yield a.copyFile(e,t))})}});var pe=g(v=>{"use strict";var pt=v&&v.__awaiter||function(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function f(c){try{u(r.next(c))}catch(h){o(h)}}function p(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?n(c.value):s(c.value).then(f,p)}u((r=r.apply(e,t||[])).next())})},x=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(v,"__esModule",{value:!0});var q=x(require("os")),de=x(require("events")),mt=x(require("child_process")),yt=x(require("path")),wt=x(fe()),_t=x(U()),P=process.platform==="win32",he=class extends de.EventEmitter{constructor(t,i,r){super();if(!t)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=t,this.args=i||[],this.options=r||{}}_debug(t){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(t)}_getCommandString(t,i){let r=this._getSpawnFileName(),s=this._getSpawnArgs(t),n=i?"":"[command]";if(P)if(this._isCmdFile()){n+=r;for(let o of s)n+=` ${o}`}else if(t.windowsVerbatimArguments){n+=`"${r}"`;for(let o of s)n+=` ${o}`}else{n+=this._windowsQuoteCmdArg(r);for(let o of s)n+=` ${this._windowsQuoteCmdArg(o)}`}else{n+=r;for(let o of s)n+=` ${o}`}return n}_processLineBuffer(t,i,r){try{let s=i+t.toString(),n=s.indexOf(q.EOL);for(;n>-1;){let o=s.substring(0,n);r(o),s=s.substring(n+q.EOL.length),n=s.indexOf(q.EOL)}i=s}catch(s){this._debug(`error processing line. Failed with error ${s}`)}}_getSpawnFileName(){return P&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(t){if(P&&this._isCmdFile()){let i=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(let r of this.args)i+=" ",i+=t.windowsVerbatimArguments?r:this._windowsQuoteCmdArg(r);return i+='"',[i]}return this.args}_endsWith(t,i){return t.endsWith(i)}_isCmdFile(){let t=this.toolPath.toUpperCase();return this._endsWith(t,".CMD")||this._endsWith(t,".BAT")}_windowsQuoteCmdArg(t){if(!this._isCmdFile())return this._uvQuoteCmdArg(t);if(!t)return'""';let i=[" ","	","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'],r=!1;for(let o of t)if(i.some(f=>f===o)){r=!0;break}if(!r)return t;let s='"',n=!0;for(let o=t.length;o>0;o--)s+=t[o-1],n&&t[o-1]==="\\"?s+="\\":t[o-1]==='"'?(n=!0,s+='"'):n=!1;return s+='"',s.split("").reverse().join("")}_uvQuoteCmdArg(t){if(!t)return'""';if(!t.includes(" ")&&!t.includes("	")&&!t.includes('"'))return t;if(!t.includes('"')&&!t.includes("\\"))return`"${t}"`;let i='"',r=!0;for(let s=t.length;s>0;s--)i+=t[s-1],r&&t[s-1]==="\\"?i+="\\":t[s-1]==='"'?(r=!0,i+="\\"):r=!1;return i+='"',i.split("").reverse().join("")}_cloneExecOptions(t){t=t||{};let i={cwd:t.cwd||process.cwd(),env:t.env||process.env,silent:t.silent||!1,windowsVerbatimArguments:t.windowsVerbatimArguments||!1,failOnStdErr:t.failOnStdErr||!1,ignoreReturnCode:t.ignoreReturnCode||!1,delay:t.delay||1e4};return i.outStream=t.outStream||process.stdout,i.errStream=t.errStream||process.stderr,i}_getSpawnOptions(t,i){t=t||{};let r={};return r.cwd=t.cwd,r.env=t.env,r.windowsVerbatimArguments=t.windowsVerbatimArguments||this._isCmdFile(),t.windowsVerbatimArguments&&(r.argv0=`"${i}"`),r}exec(){return pt(this,void 0,void 0,function*(){return!_t.isRooted(this.toolPath)&&(this.toolPath.includes("/")||P&&this.toolPath.includes("\\"))&&(this.toolPath=yt.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield wt.which(this.toolPath,!0),new Promise((t,i)=>{this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(let u of this.args)this._debug(`   ${u}`);let r=this._cloneExecOptions(this.options);!r.silent&&r.outStream&&r.outStream.write(this._getCommandString(r)+q.EOL);let s=new R(r,this.toolPath);s.on("debug",u=>{this._debug(u)});let n=this._getSpawnFileName(),o=mt.spawn(n,this._getSpawnArgs(r),this._getSpawnOptions(this.options,n)),f="";o.stdout&&o.stdout.on("data",u=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(u),!r.silent&&r.outStream&&r.outStream.write(u),this._processLineBuffer(u,f,c=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(c)})});let p="";if(o.stderr&&o.stderr.on("data",u=>{s.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(u),!r.silent&&r.errStream&&r.outStream&&(r.failOnStdErr?r.errStream:r.outStream).write(u),this._processLineBuffer(u,p,c=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(c)})}),o.on("error",u=>{s.processError=u.message,s.processExited=!0,s.processClosed=!0,s.CheckComplete()}),o.on("exit",u=>{s.processExitCode=u,s.processExited=!0,this._debug(`Exit code ${u} received from tool '${this.toolPath}'`),s.CheckComplete()}),o.on("close",u=>{s.processExitCode=u,s.processExited=!0,s.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),s.CheckComplete()}),s.on("done",(u,c)=>{f.length>0&&this.emit("stdline",f),p.length>0&&this.emit("errline",p),o.removeAllListeners(),u?i(u):t(c)}),this.options.input){if(!o.stdin)throw new Error("child process missing stdin");o.stdin.end(this.options.input)}})})}};v.ToolRunner=he;function gt(e){let t=[],i=!1,r=!1,s="";function n(o){r&&o!=='"'&&(s+="\\"),s+=o,r=!1}for(let o=0;o<e.length;o++){let f=e.charAt(o);if(f==='"'){r?n(f):i=!i;continue}if(f==="\\"&&r){n(f);continue}if(f==="\\"&&i){r=!0;continue}if(f===" "&&!i){s.length>0&&(t.push(s),s="");continue}n(f)}return s.length>0&&t.push(s.trim()),t}v.argStringToArray=gt;var R=class extends de.EventEmitter{constructor(t,i){super();if(this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!i)throw new Error("toolPath must not be empty");this.options=t,this.toolPath=i,t.delay&&(this.delay=t.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=setTimeout(R.HandleTimeout,this.delay,this)))}_debug(t){this.emit("debug",t)}_setResult(){let t;this.processExited&&(this.processError?t=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):this.processExitCode!==0&&!this.options.ignoreReturnCode?t=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`):this.processStderr&&this.options.failOnStdErr&&(t=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`))),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",t,this.processExitCode)}static HandleTimeout(t){if(!t.done){if(!t.processClosed&&t.processExited){let i=`The STDIO streams did not close within ${t.delay/1e3} seconds of the exit event from process '${t.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;t._debug(i)}t._setResult()}}}});var ye=g(S=>{"use strict";var vt=S&&S.__awaiter||function(e,t,i,r){function s(n){return n instanceof i?n:new i(function(o){o(n)})}return new(i||(i=Promise))(function(n,o){function f(c){try{u(r.next(c))}catch(h){o(h)}}function p(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?n(c.value):s(c.value).then(f,p)}u((r=r.apply(e,t||[])).next())})},bt=S&&S.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(S,"__esModule",{value:!0});var me=bt(pe());function St(e,t,i){return vt(this,void 0,void 0,function*(){let r=me.argStringToArray(e);if(r.length===0)throw new Error("Parameter 'commandLine' cannot be null or empty.");let s=r[0];return t=r.slice(1).concat(t||[]),new me.ToolRunner(s,t,i).exec()})}S.exec=St});L(exports);Te(exports,{run:()=>Se});var O=N(D());var ge=N(ye());var V=N(D()),we=()=>V.getInput("ref"),_e=()=>`./${V.getInput("path")}`;var ve=async e=>{let t=we(),i=_e(),r=1,s=[];s.push("--single-branch"),t&&(s.push("--branch"),s.push(t)),r&&(s.push("--depth"),s.push(`${r}`)),s.push(e),s.push(i),await ge.exec("git clone",s)};var M=N(D());var E;(function(e){e.Github="github",e.Gitlab="gitlab",e.Bitbucket="bitbucket",e.Gitee="gitee"})(E||(E={}));var Et=()=>M.getInput("repository"),Ct=()=>{let e=M.getInput("platform");switch(e){case E.Github:return"github.com";case E.Gitlab:return"gitlab.com";case E.Bitbucket:return"bitbucket.org";case E.Gitee:return"gitee.com";default:return e}},be=()=>{let e=Et(),t=Ct(),i="https";if(i==="https")return`https://${t}/${e}.git`;if(i==="ssh")return`git@${t}:${e}.git`;throw new Error(`Unknown git connection type: ${i}`)};var Se=async()=>{try{O.info("Build remore url");let e=be();O.info(`- git remote url: ${e}`),O.info("Cloning repository"),await ve(e)}catch(e){O.setFailed(`Action failed for uncaught error: ${e}`)}};Se();
